<?xml version="1.0" encoding="utf-8"?>

<schema
  include="qcl/db/model.xml">

  <model 
    table="users"
    name="qcl.access.User"
    extends="qcl.db.Model">
     
    <!-- model definition -->
    <definition>
    
      <!-- model properties -->
      <properties>
        <property name="username" dataType="string">
          <mysql>varchar(50) NOT NULL</mysql>
        </property>
        <property name="password" dataType="string">
          <mysql>varchar(50) NOT NULL</mysql>
        </property>
        <property name="email" dataType="string">
          <mysql> varchar(255) NULL</mysql>
        </property>
        <property name="note" dataType="string">
          <mysql>mediumtext NULL</mysql>
        </property>
        <property name="lastAction" dataType="date">
          <mysql>datetime NULL</mysql>
        </property> 
      </properties>
      
      <!-- aliases -->
      <aliases>
        <alias for="namedId">username</alias>
      </aliases>

      <!-- indexes -->
      <indexes>
        <index type="unique">
          <property name="username" />
        </index>
      </indexes>
      
    </definition>
    
    <!-- linked tables -->
    <links>
      <link 
        table="link_user_roles" 
        localKey="id" 
        foreignKey="userId" />
    </links>
    
  </model>
</schema>