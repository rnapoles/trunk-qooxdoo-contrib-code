<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>testmem</title>
  <script type="text/javascript">
  var count = 50;
  var oldDisplayValue = true;
  var oldVisibilityValue = true;
  
  function create()
  {
    var contentNode = document.getElementById("content");
    for (var y=0; y<count; y++)
    {
      for (var x=0; x<count; x++)
      {
        var element = document.createElement("div");
        element.style.backgroundColor = ((x+y) % 2 == 0) ? "red" : "blue";
        element.style.position = "absolute";
        element.style.width = "10px";
        element.style.height = "10px";
        element.style.top = (x * 10 + 50) + "px";
        element.style.left = (y * 10) + "px";

        contentNode.appendChild(element);
      }
    }
  }

  function display()
  {
    var contentNode = document.getElementById("content");

    for (var i = 0, l = contentNode.childNodes.length; i < l; i++)
    {
      var element =  contentNode.childNodes[i];
      element.style.display = oldDisplayValue ? "none" : "";
    }
    oldDisplayValue = !oldDisplayValue;
  }

  function visibility()
  {
    var contentNode = document.getElementById("content");

    for (var i = 0, l = contentNode.childNodes.length; i < l; i++)
    {
      var element =  contentNode.childNodes[i];
      element.style.visibility = oldVisibilityValue ? "hidden" : "";
    }
    oldVisibilityValue = !oldVisibilityValue;
  }
  </script>
</head>
<body>
  <a href="javascript:create()">create divs</a>
  <a href="javascript:display()">toggle display</a>
  <a href="javascript:visibility()">toggle visibility</a>
  <div id="content"></div>
</body>
</html>
