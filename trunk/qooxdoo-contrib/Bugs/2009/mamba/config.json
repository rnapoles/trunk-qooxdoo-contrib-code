{
  "name" : "mamba",

  "include" : [
    {
      "path" : "${QOOXDOO_PATH}/tool/data/config/base.json"
    },

    {
      "path" : "${QOOXDOO_PATH}/component/apiviewer/api.json",
      "as"   : "apiconf"
    }
  ],

  "let" : {
    "QOOXDOO_PATH" : "../../../qooxdoo/qooxdoo-0.8.1-sdk",
    "APPLICATION" : "mamba",
    // NOTE: "privates" breaks stack trace logging
    //       "variables" breaks function names
    "OPTIMIZE"     : ["basecalls", "strings"], // "privates", "variables"
    "=LOCALES"      : []
  },

  "jobs" :
  {
    "common" : {
      "=include" : [
        "mamba.*",
        "qx.log.appender.Native"
      ],
      "=exclude" : [
        "qx.core.AssertionError",
        "qx.core.BaseError",
        "qx.event.handler.Application",
        "qx.util.ColorUtil",
        "qx.util.DisposeUtil",
        "qx.util.Json"

        // for basic OO features:
        //"qx.Interface",
        //"qx.Mixin",
        //"qx.core.Assert",
        //"qx.core.Object",
        //"qx.core.Property",
        //"qx.dev.StackTrace",

        // for property events:
        //"qx.dom.Node",
        //"qx.event.Pool",
        //"qx.event.dispatch.Direct",
        //"qx.event.handler.Object",
        //"qx.event.type.Data",
        //"qx.event.type.Event",
        //"qx.util.ObjectPool",
      ],

      "=require" : {
        //"qx.log.Logger" : ["qx.log.appender.Native"]
      },

      "=settings" : {
        //"qx.application" : "${APPLICATION}.Application"
      }
	  },

    "source-script" : {
      "compile-source" : {
        "file" : "${ROOT}/source/script/${APPLICATION}-0.js"
      }
    },

    "build-files" : {
      "copy-files" : {
        "=files" : [
          /*
          "index.html",
          "bookmark.html",
          "style/layout.css",
          "style/reset.css",
          "script/jquery-1.2.6.js"
          */
        ],
        "target" : "${BUILD_PATH}"
      }
    },


    "build-script" :
    {
      "extend" : ["common"],

      "packages" :
      {
        "parts" :
        {
          "main" : [ "mamba.container.ContainerBox"],
          "mamba" : [ "mamba.*" ]
        },
        "sizes" :
        {
          "min-package" : 0,
          "min-package-unshared" : 0
        },
        "init"     : "main"/*,
        "collapse" : [ "<part_name1>", "<part_name2>" ]*/
      }
    },


    "api" : {
      "desc"    : "create api doc for the current library",

      "extend" : ["apiconf::build"],

      "let" : {
        "APIVIEWER_ROOT" : "${QOOXDOO_PATH}/component/apiviewer",
        "BUILD_PATH" : "./api",
        "API_INCLUDE" : ["qx.*", "${APPLICATION}.*"]
      },

      "library" : [
        {
          "manifest" : "Manifest.json"
        }
      ]
    }

    // geht nicht
    /*
    "compile-dist" : {
      "gzip" : true
    }
    */

  }
}
