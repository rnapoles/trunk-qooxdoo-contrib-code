<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>qcl sample application: qcl_auth_user Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>qcl_auth_user Class Reference</h1><!-- doxytag: class="qcl_auth_user" --><!-- doxytag: inherits="qcl_auth_common" --><div class="dynheader">
Inheritance diagram for qcl_auth_user:</div>
<div class="dynsection">
<p><center><img src="classqcl__auth__user__inherit__graph.png" border="0" usemap="#qcl__auth__user__inherit__map" alt="Inheritance graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for qcl_auth_user:</div>
<div class="dynsection">
<p><center><img src="classqcl__auth__user__coll__graph.png" border="0" usemap="#qcl__auth__user__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classqcl__auth__user-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#cb49b55c080ae2f374689577b9c4e005">__construct</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#f1dd01d3c480cd765717e63b6d86369f">getRoles</a> ($userRef, $getNamedIds=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#84f856b9a58b6deab4b42d3313bd814a">getRoleIds</a> ($userRef)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#8665477a86c40d4d453232c5892a97b5">getRoleNamedIds</a> ($userRef)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#6fcb8d20164213e1b2c1f336b08476f6">getRoleRecords</a> ($userRef)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#a9bf491930bbacf05cf826b64901ae50">getPermissions</a> ($userRef, $getNamedIds=true)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#13d9bb7f970242ca6d3ee50677a62701">authenticate</a> ($username, $password)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#cdfc9b0966699b54fb9b317b3d206abb">getActiveUser</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#240d571f8a582de2b27fe10c2e2d60fc">setActiveUser</a> ($data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#281269faae4cb38e93533c5c39c9b3f2">getActiveUserId</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#dc4855b63f4988f1ac2e0b942c9b5738">hasPermission</a> ($requestedPermission, $user=null)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#5fa0922391bd6989697dacff20f57e1f">requirePermission</a> ($permission)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#6ba9947ab46b11f3f60f4e5155229cc1">getSecurity</a> ($username)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#c76cae5f44bd40fe578f5de72ad6b12a">addToRole</a> ($userRefs, $roleRefs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#c03b882b1dfcf7bd78609416f1dff419">removeFromRole</a> ($userRefs, $roleRefs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#bf6e0d4f44506c48d0f44cd6631ea2da">method_updateClient</a> ($params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#1f487fa0d435481ebc1ca6a94291116a">method_authenticate</a> ($params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#b59eaab696d3ba02a4c43f819d6e0d85">method_logout</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#5437461b05b1c88c24dd1f41f12b0487">method_addToRole</a> ($params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#5da569725a569d4fab37ad6874a4e34f">method_removeFromRole</a> ($params)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6b6bc9d93bb07a8d888945c3e7aa485f"></a><!-- doxytag: member="qcl_auth_user::$table" ref="6b6bc9d93bb07a8d888945c3e7aa485f" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#6b6bc9d93bb07a8d888945c3e7aa485f">$table</a> = &quot;users&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e7045c30e64712f92887fc481ea6e078"></a><!-- doxytag: member="qcl_auth_user::$key_namedId" ref="e7045c30e64712f92887fc481ea6e078" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#e7045c30e64712f92887fc481ea6e078">$key_namedId</a> = &quot;username&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bb33b613da94b0665a72456cda673fa8"></a><!-- doxytag: member="qcl_auth_user::$key_username" ref="bb33b613da94b0665a72456cda673fa8" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#bb33b613da94b0665a72456cda673fa8">$key_username</a> = &quot;username&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ef5ce3781ede0298fd374c7b8666858"></a><!-- doxytag: member="qcl_auth_user::$key_password" ref="0ef5ce3781ede0298fd374c7b8666858" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#0ef5ce3781ede0298fd374c7b8666858">$key_password</a> = &quot;password&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6c08c169b7803c4734a5a2826cec5c64"></a><!-- doxytag: member="qcl_auth_user::$icon" ref="6c08c169b7803c4734a5a2826cec5c64" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#6c08c169b7803c4734a5a2826cec5c64">$icon</a> = &quot;icon/16/apps/system-users.png&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e1f2bce82f25addbb794deb22b05832a"></a><!-- doxytag: member="qcl_auth_user::$nodeType" ref="e1f2bce82f25addbb794deb22b05832a" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#e1f2bce82f25addbb794deb22b05832a">$nodeType</a> = &quot;qcl.auth.types.User&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="086612db2c7d9a848950173e89cb6b8e"></a><!-- doxytag: member="qcl_auth_user::$shortName" ref="086612db2c7d9a848950173e89cb6b8e" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#086612db2c7d9a848950173e89cb6b8e">$shortName</a> = &quot;user&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b94758c73d0f2f28a6a3424a084dcf8b"></a><!-- doxytag: member="qcl_auth_user::$foreignKey" ref="b94758c73d0f2f28a6a3424a084dcf8b" args="" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqcl__auth__user.html#b94758c73d0f2f28a6a3424a084dcf8b">$foreignKey</a> = &quot;userId&quot;</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
class providing data on users providing a backend to the qcl.auth client package<p>
Class cannot be used directly, you need to subclass it in your application service class folder 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00011">11</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="cb49b55c080ae2f374689577b9c4e005"></a><!-- doxytag: member="qcl_auth_user::__construct" ref="cb49b55c080ae2f374689577b9c4e005" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::__construct           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
constructor calls parent constructor for database intiatization 
<p>Reimplemented from <a class="el" href="classqcl__auth__common.html#7547f68a05911d779a1c807eea74a248">qcl_auth_common</a>.</p>

<p>Reimplemented in <a class="el" href="classclass__auth_config.html#d7a3efac82f67cffb8c4df706d150593">class_authConfig</a>, and <a class="el" href="classclass__user.html#1b0cb3671bf710ced5fa4aa0ef622853">class_user</a>.</p>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00035">35</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f1dd01d3c480cd765717e63b6d86369f"></a><!-- doxytag: member="qcl_auth_user::getRoles" ref="f1dd01d3c480cd765717e63b6d86369f" args="($userRef, $getNamedIds=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getRoles           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>getNamedIds</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get list of roles (ids) that belong to a user <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$userRef user name or id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$getNamedIds If true (default), get the names of the roles, If false, get ids If null, get whole records </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array Array of string names or numeric ids </dd></dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">53</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00070">qcl_jsonrpc_object::$result</a>, <a class="el" href="common_8php-source.html#l00052">qcl_auth_common::getIdFromRef()</a>, and <a class="el" href="object_8php-source.html#l00216">qcl_jsonrpc_object::raiseError()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00128">getPermissions()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00099">getRoleIds()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00107">getRoleNamedIds()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00115">getRoleRecords()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00264">getSecurity()</a>, and <a class="el" href="sample__app_2auth_2user_8php-source.html#l00057">class_user::method_getRoles()</a>.</p>

</div>
</div><p>
<a class="anchor" name="84f856b9a58b6deab4b42d3313bd814a"></a><!-- doxytag: member="qcl_auth_user::getRoleIds" ref="84f856b9a58b6deab4b42d3313bd814a" args="($userRef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getRoleIds           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRef</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get ids of user roles 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00099">99</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">getRoles()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8665477a86c40d4d453232c5892a97b5"></a><!-- doxytag: member="qcl_auth_user::getRoleNamedIds" ref="8665477a86c40d4d453232c5892a97b5" args="($userRef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getRoleNamedIds           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRef</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get named ids of user roles 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00107">107</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">getRoles()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6fcb8d20164213e1b2c1f336b08476f6"></a><!-- doxytag: member="qcl_auth_user::getRoleRecords" ref="6fcb8d20164213e1b2c1f336b08476f6" args="($userRef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getRoleRecords           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRef</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get full records of user roles 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00115">115</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">getRoles()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a9bf491930bbacf05cf826b64901ae50"></a><!-- doxytag: member="qcl_auth_user::getPermissions" ref="a9bf491930bbacf05cf826b64901ae50" args="($userRef, $getNamedIds=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getPermissions           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>getNamedIds</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
get list of permission (ids) that belong to a user <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$userRef user name or id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>boolean</em>&nbsp;</td><td>$getNamedIds If true (default), get the names of the roles, if null, get the whole records, otherwise just ids </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array Array of string names or numeric ids </dd></dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00128">128</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00070">qcl_jsonrpc_object::$result</a>, <a class="el" href="common_8php-source.html#l00052">qcl_auth_common::getIdFromRef()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">getRoles()</a>, and <a class="el" href="object_8php-source.html#l00216">qcl_jsonrpc_object::raiseError()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00218">hasPermission()</a>, and <a class="el" href="sample__app_2auth_2user_8php-source.html#l00049">class_user::method_getPermissions()</a>.</p>

</div>
</div><p>
<a class="anchor" name="13d9bb7f970242ca6d3ee50677a62701"></a><!-- doxytag: member="qcl_auth_user::authenticate" ref="13d9bb7f970242ca6d3ee50677a62701" args="($username, $password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::authenticate           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
authenticate a user with a password <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$password (MD5-encoded) password </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00154">154</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="common_8php-source.html#l00107">qcl_auth_common::getByName()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00196">setActiveUser()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">method_authenticate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cdfc9b0966699b54fb9b317b3d206abb"></a><!-- doxytag: member="qcl_auth_user::getActiveUser" ref="cdfc9b0966699b54fb9b317b3d206abb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getActiveUser           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gets active user information which is persisted during a session <dl class="return" compact><dt><b>Returns:</b></dt><dd>array </dd></dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00187">187</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00218">hasPermission()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">method_authenticate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="240d571f8a582de2b27fe10c2e2d60fc"></a><!-- doxytag: member="qcl_auth_user::setActiveUser" ref="240d571f8a582de2b27fe10c2e2d60fc" args="($data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::setActiveUser           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
sets active user information <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>array</em>&nbsp;</td><td>map with user data </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00196">196</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00154">authenticate()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">method_authenticate()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00409">method_logout()</a>.</p>

</div>
</div><p>
<a class="anchor" name="281269faae4cb38e93533c5c39c9b3f2"></a><!-- doxytag: member="qcl_auth_user::getActiveUserId" ref="281269faae4cb38e93533c5c39c9b3f2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getActiveUserId           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gets active user record id <dl class="return" compact><dt><b>Returns:</b></dt><dd>int </dd></dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00205">205</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

</div>
</div><p>
<a class="anchor" name="dc4855b63f4988f1ac2e0b942c9b5738"></a><!-- doxytag: member="qcl_auth_user::hasPermission" ref="dc4855b63f4988f1ac2e0b942c9b5738" args="($requestedPermission, $user=null)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::hasPermission           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>requestedPermission</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>user</em> = <code>null</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
checks if active user has the given permission respects wildcards, i.e. myapp.permissions.* covers myapp.permissions.canDoFoo <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$requestedPermission the permission to check </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$user (optional) if given, check this user's permissions. Otherwise check the active user's permissions </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00218">218</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00187">getActiveUser()</a>, <a class="el" href="common_8php-source.html#l00107">qcl_auth_common::getByName()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00128">getPermissions()</a>.</p>

<p>Referenced by <a class="el" href="sample__app_2auth_2user_8php-source.html#l00065">class_user::method_hasPermission()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00247">requirePermission()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5fa0922391bd6989697dacff20f57e1f"></a><!-- doxytag: member="qcl_auth_user::requirePermission" ref="5fa0922391bd6989697dacff20f57e1f" args="($permission)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::requirePermission           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>permission</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
requires a specific permission if active user does not have the permission, abort with an error 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00247">247</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00218">hasPermission()</a>, and <a class="el" href="object_8php-source.html#l00216">qcl_jsonrpc_object::raiseError()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00422">method_addToRole()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00440">method_removeFromRole()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6ba9947ab46b11f3f60f4e5155229cc1"></a><!-- doxytag: member="qcl_auth_user::getSecurity" ref="6ba9947ab46b11f3f60f4e5155229cc1" args="($username)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::getSecurity           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>username</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
gets userdata and security policies <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>username </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>array security policy and user data </dd></dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00264">264</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="common_8php-source.html#l00107">qcl_auth_common::getByName()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00053">getRoles()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">method_authenticate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c76cae5f44bd40fe578f5de72ad6b12a"></a><!-- doxytag: member="qcl_auth_user::addToRole" ref="c76cae5f44bd40fe578f5de72ad6b12a" args="($userRefs, $roleRefs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::addToRole           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>roleRefs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
add user(s) to role(s) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$userRefs (array or number) user ref(s) (id or namedId) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$roleRefs (array or number) role refs (id or namedId) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00296">296</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="common_8php-source.html#l00052">qcl_auth_common::getIdFromRef()</a>, and <a class="el" href="object_8php-source.html#l00216">qcl_jsonrpc_object::raiseError()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00422">method_addToRole()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c03b882b1dfcf7bd78609416f1dff419"></a><!-- doxytag: member="qcl_auth_user::removeFromRole" ref="c03b882b1dfcf7bd78609416f1dff419" args="($userRefs, $roleRefs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::removeFromRole           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>userRefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>roleRefs</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
removes user(s) from role(s) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$userRefs (array or number) user ref(s) (id or namedId) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$roleRefs (array or number) role refs (id or namedId) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00329">329</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="common_8php-source.html#l00052">qcl_auth_common::getIdFromRef()</a>, and <a class="el" href="object_8php-source.html#l00216">qcl_jsonrpc_object::raiseError()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00440">method_removeFromRole()</a>.</p>

</div>
</div><p>
<a class="anchor" name="bf6e0d4f44506c48d0f44cd6631ea2da"></a><!-- doxytag: member="qcl_auth_user::method_updateClient" ref="bf6e0d4f44506c48d0f44cd6631ea2da" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::method_updateClient           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
default update client method: authenticate user 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00366">366</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">method_authenticate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1f487fa0d435481ebc1ca6a94291116a"></a><!-- doxytag: member="qcl_auth_user::method_authenticate" ref="1f487fa0d435481ebc1ca6a94291116a" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::method_authenticate           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
default update client method: authenticate user <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$param[0] username </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>string</em>&nbsp;</td><td>$param[1] (MD5-encoded) password </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00376">376</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00184">qcl_jsonrpc_object::addMessage()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00154">authenticate()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00187">getActiveUser()</a>, <a class="el" href="object_8php-source.html#l00174">qcl_jsonrpc_object::getResult()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00264">getSecurity()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00196">setActiveUser()</a>.</p>

<p>Referenced by <a class="el" href="qcl_2auth_2user_8php-source.html#l00366">method_updateClient()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b59eaab696d3ba02a4c43f819d6e0d85"></a><!-- doxytag: member="qcl_auth_user::method_logout" ref="b59eaab696d3ba02a4c43f819d6e0d85" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::method_logout           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
logout current user 
<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00409">409</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00184">qcl_jsonrpc_object::addMessage()</a>, <a class="el" href="object_8php-source.html#l00174">qcl_jsonrpc_object::getResult()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00196">setActiveUser()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5437461b05b1c88c24dd1f41f12b0487"></a><!-- doxytag: member="qcl_auth_user::method_addToRole" ref="5437461b05b1c88c24dd1f41f12b0487" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::method_addToRole           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
add user(s) to role(s) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>null</em>&nbsp;</td><td>$param[0] not used </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$param[1] (array or number) user refs (id or namedId) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$param[2] (array or number) role refs (id or namedId) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00422">422</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00184">qcl_jsonrpc_object::addMessage()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00296">addToRole()</a>, <a class="el" href="object_8php-source.html#l00174">qcl_jsonrpc_object::getResult()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00247">requirePermission()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5da569725a569d4fab37ad6874a4e34f"></a><!-- doxytag: member="qcl_auth_user::method_removeFromRole" ref="5da569725a569d4fab37ad6874a4e34f" args="($params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qcl_auth_user::method_removeFromRole           </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
removes user(s) from role(s) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>null</em>&nbsp;</td><td>$param[0] not used </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$param[1] (array or number) user refs (id or namedId) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mixed</em>&nbsp;</td><td>$param[2] (array or number) role refs (id or namedId) </td></tr>
  </table>
</dl>

<p>Definition at line <a class="el" href="qcl_2auth_2user_8php-source.html#l00440">440</a> of file <a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a>.</p>

<p>References <a class="el" href="object_8php-source.html#l00184">qcl_jsonrpc_object::addMessage()</a>, <a class="el" href="object_8php-source.html#l00174">qcl_jsonrpc_object::getResult()</a>, <a class="el" href="qcl_2auth_2user_8php-source.html#l00329">removeFromRole()</a>, and <a class="el" href="qcl_2auth_2user_8php-source.html#l00247">requirePermission()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>F:/xampp/htdocs/qooxdoo-contrib/qcl/trunk/sample_app/backend/php/services/qcl/auth/<a class="el" href="qcl_2auth_2user_8php-source.html">user.php</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Sep 17 22:43:12 2007 for qcl sample application by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
