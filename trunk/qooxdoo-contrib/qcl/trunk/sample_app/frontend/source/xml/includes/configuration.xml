<?xml version="1.0" encoding="utf-8"?>
<qxt:include-definition
	xmlns:qx="http://www.qooxdoo.org"
	xmlns:qxt="http://www.qxtransformer.sourceforge.net/extension"
	xmlns:qcl="http://qooxdoo-contrib.sourceforge.net/qcl">

	<qx:configManager 
		id="configManager"
		serviceName="sample_app.config.configManager" >
		
		<qx:messageSubscriber filter="qcl.auth.messages.loginSuccess">
			this.updateClient()
		</qx:messageSubscriber>
		
		<qx:messageSubscriber filter="sample_app.messages.logout">
			this.updateClient()
		</qx:messageSubscriber>

	</qx:configManager>
	
	<qx:eventListener type="appear">
		alert("appear event!");
	</qx:eventListener>
	
	<qxt:script>
		// retrieve configuration from server
		configManager.updateClient();
	</qxt:script>
	
</qxt:include-definition>