<?xml version="1.0" encoding="utf-8"?>
<qxt:include-definition
	xmlns:qx="http://www.qooxdoo.org"
	xmlns:qxt="http://www.qxtransformer.sourceforge.net/extension">

  <!-- preferences widget-->

	<!-- SECURITY POLICIES -->
	
	<qx:security>
		<qx:permission name="qcl.config.permissions.manage" />
	</qx:security>
	
	<qx:window 
		id="preferencesWidget" 
		width="500" height="400" 
		caption="Preferences"
		showMinimize="false" showClose="true" 
		modal="false" onAppear="this.centerToBrowser()">
	
		<qx:messageSubscriber filter="qcl.config.commands.preferences.show">
			this.show();
		</qx:messageSubscriber>
		
		<qx:messageSubscriber filter="qcl.auth.messages.logout">
			this.hide();
		</qx:messageSubscriber>		
		 
		<qx:verticalBoxLayout dimension="100%,100%">
		
			<qx:buttonView 
				id="buttonView" 
				barPosition="top">
			
				<qxt:include src="/includes/preferences/preferences-general.xml" />
				<!-- add more preference pages -->
				<!--  qxt:include src="/components/preferencesWidget/preferences-foo.xml" /-->
				
			</qx:buttonView>
		
		</qx:verticalBoxLayout>
		
	</qx:window>

</qxt:include-definition>